(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{148:function(t,e,r){"use strict";(function(t){r(66),r(67),r(15);var n=r(167),o=r(156),c=r(240),l=r(158);e.a={head:{title:"Simple Extension URL Test Tool"},data:function(){return{type:"rewrite",input:"https://www.google.com/b/c/d?e=simple-extenion&f=unused",rule:"/b/:action/(.*)?e=:searchString",value:"https://a.com/other/path/:0/:searchString?action=:action&reuse=:action&other=query",parameters:{}}},computed:{typeString:function(){return this.type[0].toUpperCase()+this.type.substr(1)},parserIsEmpty:function(){return Object(n.isEmpty)(this.parameters)},result:function(){try{this.parameters=Object(c.b)(this.input,this.rule)}catch(t){this.parameters={}}try{var t=Object(c.a)(this.input,this.rule,this.value);return'<div class="success">Success!</div><div>'.concat(this.typeString,' To:</div><div><a href="').concat(t,'" target="_blank">').concat(t,"</a></div>")}catch(t){console.error(t);var e="Error";return t instanceof o.b?e="Not Match":t instanceof o.a&&(e="Format Error"),'<div class="error">'.concat(e,'</div><pre class="error">').concat(t.message,"</pre>")}},preset:function(){var e=l.parse(window.location.href),r=new t(JSON.stringify({type:"rewrite"===this.type?0:1,url:this.input,rule:this.rule,value:this.value}),"utf8").toString("base64");return"".concat(e.protocol,"//").concat(e.host).concat(e.pathname,"#preset=").concat(r)}},methods:{clear:function(){this.input="",this.rule="",this.value=""}},beforeMount:function(){var e=new URLSearchParams(window.location.hash.substr(1));if(e.has("preset"))try{var r=JSON.parse(new t(e.get("preset"),"base64").toString("utf8")),n=r.type,o=r.url,c=r.rule,l=r.value;-1!==[void 0,0,1].indexOf(n)&&o&&c&&l&&(this.type=n?"redirect":"rewrite",this.input=o,this.rule=c,this.value=l)}catch(t){console.error("parse preset data error")}}}}).call(this,r(163).Buffer)},154:function(t,e,r){var content=r(238);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(70).default)("36e8c7ec",content,!0,{sourceMap:!1})},156:function(t,e,r){"use strict";r.d(e,"b",(function(){return v})),r.d(e,"a",(function(){return d}));var n=r(168),o=r(241),c=r(157),l=r(169),h=r(239),v=function(t){function e(t){return Object(n.a)(this,e),Object(o.a)(this,Object(c.a)(e).call(this,t))}return Object(l.a)(e,t),e}(Object(h.a)(Error)),d=function(t){function e(t){return Object(n.a)(this,e),Object(o.a)(this,Object(c.a)(e).call(this,t))}return Object(l.a)(e,t),e}(Object(h.a)(Error))},237:function(t,e,r){"use strict";var n=r(154);r.n(n).a},238:function(t,e,r){(e=r(69)(!1)).push([t.i,"\nhtml, body {\n    padding: 0;\n    margin: 0;\n}\nbody {\n    height: 100vh;\n    background: cadetblue;\n    padding: 10px;\n    box-sizing: border-box;\n}\n.card {\n    padding: 10px;\n    width: 600px;\n    height: 100%;\n    margin: 0 auto;\n    border-radius: 5px;\n    background: white;\n}\nh1 {\n    margin: 0;\n}\n.card > * + * {\n    margin-top: 15px;\n}\ninput {\n    width: 80%;\n}\nul {\n    margin: 0;\n    padding-left: 20px;\n}\n.tips {\n    color: #999;\n    font-size: 12px;\n}\n.success {\n    color: #008548;\n}\n.error {\n    color: red;\n}\n.parameters {\n    width:100%;\n    border-collapse: collapse;\n    border: 1px solid grey;\n}\n.parameters th, .parameters td {\n    padding: 8px;\n    border: 1px solid grey;\n    white-space: pre-wrap;\n    word-break: break-word;\n    min-width: 40px;\n}\n.parameters th {\n    text-align: left;\n    background-color: #4CAF50;\n    color: white;\n}\n.parameters tr:nth-child(even) {\n    background-color: #f2f2f2;\n}\n.parameters tr:hover {\n    background-color: #ddd;\n}\n.result {\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n}\n",""]),t.exports=e},240:function(t,e,r){"use strict";r(52),r(36),r(97),r(5),r(66),r(67),r(26),r(15),r(53),r(54),r(98),r(96),r(68);var n=r(156),o=r(158),c=r.n(o),l=r(175);r.d(e,"b",(function(){return w})),r.d(e,"a",(function(){return _}));var h=r(176),v=h.pathToRegexp,d=(h.match,h.parse,h.compile),m=r(177),f=/^:([a-z_][a-z\-_]*)$/i;function w(t,e){var r=c.a.parse(t),o=r.host,l=y(r.search),h=c.a.parse(e),d=h.host,w=y(h.search);if(null==r.protocol)throw Error("The URL must start with http://, https://, ftp://");if(!d&&"/"!==e[0])throw new n.a("Rule format error");if(d&&o!==d)throw new n.b("The URL domain not equal the Rule domain.");if(d&&o!==d)throw new Error("The URL domain not equal to the rule domain.");var data={};if(r.pathname&&h.pathname){var _,x=[];try{_=v(h.pathname,x,{start:!1,end:!1})}catch(t){throw new Error("The rule have errors")}var k=_.exec(r.pathname);if(!k)throw new n.b("The rule can not match the URL");console.log({match:k}),x.forEach((function(t,e){data[t.name+""]=k[e+1]})),console.log("path result",data)}if(l&&w){var R=Object.keys(l),E=Object.keys(w),O=m(E,R);if(O.length>0)throw new n.b("The URL missing query keys: ".concat(O.join(", ")," ."));E.forEach((function(t){if(w[t]){var e=w[t].match(f);if(e){var r=e[1];if(data.hasOwnProperty(r))throw new Error("The query key <strong>".concat(r,"</strong> repeat with path keys"));data[r]=l[t]}else if(w[t]!==l[t])throw new n.b("The query <strong>".concat(t,"</strong> not equal to: Rule ").concat(w[t],", URL ").concat(l[t]))}}))}return data}function _(t,e,r){var data=w(t,e),o=c.a.parse(t),l=o.host,h=c.a.parse(r),v=h.host,m=y(h.search);if(!v&&"/"!==r[0])throw new n.a("Value format error");var _=new URLSearchParams;m&&Object.keys(m).forEach((function(t){var e=m[t].match(f),r=m[t];if(e){var n=e[1];if(!data.hasOwnProperty(n))throw new Error("Missing key: <strong>".concat(n,"</strong>"));r=data[n]}_.append(t,decodeURIComponent(r))}));var x=d(h.pathname);return(_=_.toString()).length>0&&(_="?"+_),x=x(data)+_,console.log({data:data,toSearchParams:_}),x=v?"".concat(h.protocol,"//").concat(v).concat(x):"".concat(o.protocol,"//").concat(l).concat(x)}function y(t){var data={};t&&new URLSearchParams(encodeURI(t)).forEach((function(t,e){data[e]=t}));return data}Object(l.a)((function(t,e){chrome.cookies.set(t,(function(){return e()}))}),5)},242:function(t,e,r){"use strict";r.r(e);var n=r(148).a,o=(r(237),r(22)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("h1",[t._v("Simple Extension URL Test Tool")]),t._v(" "),r("iframe",{attrs:{src:"https://ghbtns.com/github-btn.html?user=gzlock&repo=simple-extension&type=star&count=true",frameborder:"0",scrolling:"0",width:"170px",height:"20px"}}),t._v(" "),r("div",[r("div",[t._v("Url")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{placeholder:"https://www.google.com/search?q=simple-extenion"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})]),t._v(" "),"rewrite"===t.type?r("div",[r("div",[t._v("Rule")]),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.rule,expression:"rule"}],domProps:{value:t.rule},on:{input:function(e){e.target.composing||(t.rule=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"tips"},[t._v("Accept two formats:")]),t._v(" "),t._m(0),t._v(" "),!1===t.parserIsEmpty?r("div",{staticStyle:{"margin-top":"20px"}},[r("div",[t._v("Parameters")]),t._v(" "),r("table",{staticClass:"parameters"},[t._m(1),t._v(" "),t._l(t.parameters,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(n))]),t._v(" "),r("td",[t._v(t._s(e))])])}))],2)]):t._e()]):t._e(),t._v(" "),r("div",[r("div",[t._v("\n            Rewrite To Value\n        ")]),t._v(" "),r("span",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),t._v(" "),"rewrite"===t.type?[r("div",{staticClass:"tips"},[t._v("Accept two formats:")]),t._v(" "),t._m(2)]:[r("div",{staticClass:"tips"},[t._v("Just accept hosts:")]),t._v(" "),t._m(3)]],2),t._v(" "),r("div",[r("button",{on:{click:t.clear}},[t._v("Clear")]),t._v(" "),r("br"),t._v("\n        Preset Link "),r("input",{staticStyle:{width:"400px"},attrs:{onclick:"this.select()"},domProps:{value:t.preset}})]),t._v(" "),r("div",{staticClass:"result"},[r("div",[t._v("Result")]),t._v(" "),r("div",{domProps:{innerHTML:t._s(t.result)}})])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"tips"},[e("li",[this._v("Full URL: "),e("span",[this._v("https://google.com/:action?q=:searchString")])]),this._v(" "),e("li",[this._v("Just URL path: "),e("span",[this._v("/:action?q=:searchString")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Key")]),this._v(" "),e("th",[this._v("Value")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"tips"},[e("li",[this._v("Full URL: "),e("span",[this._v("https://b.com/:action?q=:searchString")])]),this._v(" "),e("li",[this._v("Just URL path: "),e("span",[this._v("/:action?q=:searchString")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"tips"},[e("li",[this._v("Domain: "),e("span",[this._v("b.com")])]),this._v(" "),e("li",[this._v("IP: "),e("span",[this._v("8.8.8.8")])])])}],!1,null,null,null);e.default=component.exports}}]);